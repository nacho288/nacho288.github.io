(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"21e2":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"row items-center"},[a("div",{staticClass:"col"},[a("h4",{staticClass:"q-ma-sm text-primary"},[e._v("Categorias")])]),a("div",{staticClass:"col-auto"},[a("q-btn",{attrs:{size:"md",round:"",color:"secondary",icon:"add"},on:{click:function(t){e.addDialog=!0}}})],1)]),a("q-separator",{staticClass:"q-mb-md"}),a("q-input",{staticClass:"q-mb-md",attrs:{outlined:"",type:"search",clearable:""},on:{input:function(t){e.currentPage=1}},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.searchField,callback:function(t){e.searchField=t},expression:"searchField"}}),a("CategoriesList",{attrs:{categories:e.categoriesCurrentPage,searchField:e.searchField}}),a("div",{staticClass:"row justify-center"},[a("q-pagination",{staticClass:"q-mt-md col-auto",attrs:{max:e.numberOfpages,input:!0},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}},[a("CategoriesAddDialog")],1)],1)},o=[],i=(a("7f7f"),a("6762"),a("2fdb"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("q-list",{staticClass:"rounded-borders",attrs:{bordered:"",separator:""}},[e._l(e.categories,(function(t){return[t.children.length?a("CategoriesIExpItem",{key:t.id,attrs:{category:t,searchField:e.searchField},on:{toDelete:function(t){e.deleteDialog=!0},toEdit:function(t){e.editDialog=!0},toAdd:function(t){e.addDialog=!0}}}):a("CategoriesItem",{key:t.id,attrs:{category:t},on:{toDelete:function(t){e.deleteDialog=!0},toAdd:function(t){e.addDialog=!0},toEdit:function(t){e.editDialog=!0}}})]}))],2),a("q-dialog",{attrs:{persistent:""},model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[a("CategoriesDeleteDialog")],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}},[a("CategoriesEditDialog")],1),a("q-dialog",{attrs:{persistent:""},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}},[a("CategoriesAddDialog")],1)],1)}),r=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-expansion-item",{attrs:{"expand-icon-class":"hidden"},scopedSlots:e._u([{key:"header",fn:function(){return[a("q-item-section",{staticClass:"col-auto"},[a("q-icon",{attrs:{name:e.category.children.length?"folder":"layers",size:"md"}})],1),a("q-item-section",[a("q-item-label",[e._v(e._s(e.category.name))]),a("q-item-label",{attrs:{caption:""}},[e._v("\n            "+e._s(e.categoriesString(e.category))+"\n            ")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"row"},[a("q-btn",{attrs:{flat:"",size:"sm",round:"",color:"secondary",icon:"add"},on:{click:function(t){return t.stopPropagation(),e.$emit("toAdd")}}}),a("q-btn",{attrs:{flat:"",size:"sm",round:"",color:"info",icon:"edit"},on:{click:function(t){return t.stopPropagation(),e.$emit("toEdit")}}}),a("q-btn",{attrs:{flat:"",size:"sm",round:"",color:"grey",icon:"expand_more"}})],1)])]},proxy:!0}])},[a("q-list",e._l(e.category.children,(function(t){return a("CategoriesItem",{key:t.id,attrs:{category:t},on:{toDelete:function(t){return e.$emit("toDelete")},toEdit:function(t){return e.$emit("toEdit")}}})})),1)],1)},c=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""},on:{click:function(t){return t.stopPropagation(),e.$emit("toEdit")}}},[e.category.category_id?a("q-item-section",{staticClass:"col-auto"},[a("q-icon",{staticClass:"q-ml-lg",attrs:{size:"sm",name:"subdirectory_arrow_right"}})],1):e._e(),a("q-item-section",{staticClass:"col-auto"},[a("q-icon",{attrs:{size:e.category.category_id?"sm":"md",name:"layers"}})],1),a("q-item-section",[a("q-item-label",[e._v("\n    "+e._s(e.category.name)+"\n    ")]),a("q-item-label",{attrs:{caption:""}},[e._v("\n    "+e._s(e.elementsString(e.category.elements_count))+"\n    ")])],1),a("q-item-section",{attrs:{side:""}},[a("div",{staticClass:"row"},[e.category.elements_count?e._e():a("q-btn",{attrs:{flat:"",size:"sm",round:"",color:"red",icon:"delete"},on:{click:function(t){return t.stopPropagation(),e.$emit("toDelete")}}}),e.category.elements_count||e.category.category_id?e._e():a("q-btn",{attrs:{flat:"",size:"sm",round:"",color:"secondary",icon:"add"},on:{click:function(t){return t.stopPropagation(),e.$emit("toAdd")}}}),a("q-btn",{attrs:{flat:"",size:"sm",round:"",color:"info",icon:"edit"},on:{click:function(t){return t.stopPropagation(),e.$emit("toEdit")}}})],1)])],1)},d=[],u={name:"CategoriesItem",props:["category"],methods:{elementsString:function(e){var t="NingÃºn elemento asignado";return 1===e&&(t="un elemento asignado"),e>1&&(t=e+" elementos asignados"),t}},data:function(){return{}}},g=u,m=a("2877"),p=a("eebe"),f=a.n(p),h=a("66e5"),C=a("4074"),q=a("0016"),v=a("0170"),b=a("9c40"),y=a("714f"),_=Object(m["a"])(g,l,d,!1,null,null,null),D=_.exports;f()(_,"components",{QItem:h["a"],QItemSection:C["a"],QIcon:q["a"],QItemLabel:v["a"],QBtn:b["a"]}),f()(_,"directives",{Ripple:y["a"]});var x={components:{CategoriesItem:D},name:"CategoriesIExpItem",props:["category","searchField"],methods:{categoriesString:function(e){var t;return t=""!==this.searchField?1===e.children.length?"una categoria encontrada":e.children.length+" categorias encontradas":1===e.children.length?"una categoria asignada":e.children.length+" categorias asignadas",t}},data:function(){return{}}},Q=x,w=a("3b73"),P=a("1c1c"),E=Object(m["a"])(Q,s,c,!1,null,null,null),I=E.exports;f()(E,"components",{QExpansionItem:w["a"],QItemSection:C["a"],QIcon:q["a"],QItemLabel:v["a"],QBtn:b["a"],QList:P["a"]});var k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6 q-mb-sm"},[e._v("Confirmar")]),a("q-separator")],1),a("q-card-section",{staticClass:"row items-center"},[a("div",{staticClass:"text-body1"},[e._v("Esta seguro de que desea eliminar esta categoria?")])]),a("q-card-section",{staticClass:"row items-center q-pb-none "},[a("q-separator")],1),a("q-card-actions",{staticClass:"q-mt-sm",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Eliminar",color:"red"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"primary"}})],1)],1)},S=[],F={name:"CategoriesDeleteDialog",props:["category","enable"],methods:{},data:function(){return{}}},$=F,A=a("f09f"),N=a("a370"),O=a("eb85"),z=a("4b7e"),L=a("7f67"),j=Object(m["a"])($,k,S,!1,null,null,null),B=j.exports;f()(j,"components",{QCard:A["a"],QCardSection:N["a"],QSeparator:O["a"],QCardActions:z["a"],QBtn:b["a"]}),f()(j,"directives",{ClosePopup:L["a"]});var J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("Agregar nueva categoria")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-input",{attrs:{dense:"",autofocus:"",label:"Nombre"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Enviar"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar"}})],1)],1)},G=[],M={name:"CategoriesAssDialog",props:["category"],methods:{},data:function(){return{name:""}}},R=M,H=a("27f9"),K=Object(m["a"])(R,J,G,!1,null,null,null),T=K.exports;f()(K,"components",{QCard:A["a"],QCardSection:N["a"],QInput:H["a"],QCardActions:z["a"],QBtn:b["a"]}),f()(K,"directives",{ClosePopup:L["a"]});var U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-card",{staticStyle:{"min-width":"350px"}},[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v("Editar categoria")])]),a("q-card-section",{staticClass:"q-pt-none"},[a("q-input",{attrs:{dense:"",autofocus:"",label:"Nombre"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Guardar"}}),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar"}})],1)],1)},V=[],W={name:"CategoriesAssDialog",props:["category"],methods:{},data:function(){return{name:"Categoria 1"}}},X=W,Y=Object(m["a"])(X,U,V,!1,null,null,null),Z=Y.exports;f()(Y,"components",{QCard:A["a"],QCardSection:N["a"],QInput:H["a"],QCardActions:z["a"],QBtn:b["a"]}),f()(Y,"directives",{ClosePopup:L["a"]});var ee={components:{CategoriesIExpItem:I,CategoriesItem:D,CategoriesDeleteDialog:B,CategoriesAddDialog:T,CategoriesEditDialog:Z},props:["categories","searchField"],data:function(){return{deleteDialog:!1,editDialog:!1,addDialog:!1}},methods:{wii:function(){console.log("woo")}}},te=ee,ae=a("24e8"),ne=Object(m["a"])(te,i,r,!1,null,null,null),oe=ne.exports;f()(ne,"components",{QList:P["a"],QDialog:ae["a"]});var ie={name:"CategoriesIndex",components:{CategoriesList:oe,CategoriesAddDialog:T},data:function(){return{addDialog:!1,searchField:"",currentPage:1,itemsPerPage:10,categories:[{id:1,name:"Group 1",children:[{id:4,name:"category 1",category_id:1,elements_count:0},{id:5,name:"category 2",category_id:1,elements_count:5}]},{id:2,name:"category 3",children:[]},{id:3,name:"category 4",elements_count:1,children:[]}]}},computed:{categoriesFiltered:function(){var e=this,t=JSON.parse(JSON.stringify(this.categories));return t.filter((function(t){if(t.name.toLowerCase().includes(e.searchField.toLowerCase()))return!0;var a=t.children.filter((function(t){return t.name.toLowerCase().includes(e.searchField.toLowerCase())}));return!!a.length&&(t.children=a,!0)}))},numberOfpages:function(){return Math.ceil(this.categoriesFiltered.length/this.itemsPerPage)},categoriesCurrentPage:function(){return this.categoriesFiltered.slice((this.currentPage-1)*this.itemsPerPage,this.currentPage*this.itemsPerPage)}}},re=ie,se=a("9989"),ce=a("3b16"),le=Object(m["a"])(re,n,o,!1,null,null,null);t["default"]=le.exports;f()(le,"components",{QPage:se["a"],QBtn:b["a"],QSeparator:O["a"],QInput:H["a"],QIcon:q["a"],QPagination:ce["a"],QDialog:ae["a"]})}}]);